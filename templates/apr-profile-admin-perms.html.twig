{#
/**
 * @file
 * Default theme implementation for the APR Profile pseudo-fields.
 *
 * Available variables
 * - data: Array of assets information from pci.admin_perms[] array.
 */
#}

{% if data is not empty %}

<div class="field field-name-apr-profile-admin-perms"{{ attributes }}>
  <div class="field-items">
    {% for key, item in data %}
      <div class="field-item {{ loop.index is odd ? 'odd' : 'even' }}">
        {% set output = '' %}
        {% if item.title is not empty %}
          {% set output = output ~ item.title %}
        {% elseif item.rank is not empty %}
          {% set output = output ~ item.rank %}
        {% endif %}
        {% if (((item.title is not empty) or (item.rank is not empty)) and item.person_type is not empty) %}
          {% if (item.person_type == 'Staff' or item.person_type == 'Student') %}
            {% set output = output ~ ', ' %}
          {% else %}
            {% set output = output ~ ' of ' %}
          {% endif %}
        {% endif %}
        {% if item.dep is not empty %}
          {% set output = output ~ item.dep %}
        {% endif %}
        {% if item.college is not empty %}
          {% set output = output ~ ', ' ~ item.college %}
        {% endif %}
        {{ output }}
      </div>
    {% endfor %}
  </div>
</div>

{% endif %}
